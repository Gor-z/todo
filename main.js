(()=>{var e={15:e=>{e.exports=function(e,t){return Array.prototype.slice.call(e,t)}},46:(e,t,n)=>{"use strict";var o=n(47),r=n(371),c=n.g.document,i=function(e,t,n,o){return e.addEventListener(t,n,o)},a=function(e,t,n,o){return e.removeEventListener(t,n,o)},d=[];function s(e,t,n){var o=function(e,t,n){var o,r;for(o=0;o<d.length;o++)if((r=d[o]).element===e&&r.type===t&&r.fn===n)return o}(e,t,n);if(o){var r=d[o].wrapper;return d.splice(o,1),r}}n.g.addEventListener||(i=function(e,t,o){return e.attachEvent("on"+t,function(e,t,o){var r=s(e,t,o)||function(e,t,o){return function(t){var r=t||n.g.event;r.target=r.target||r.srcElement,r.preventDefault=r.preventDefault||function(){r.returnValue=!1},r.stopPropagation=r.stopPropagation||function(){r.cancelBubble=!0},r.which=r.which||r.keyCode,o.call(e,r)}}(e,0,o);return d.push({wrapper:r,element:e,type:t,fn:o}),r}(e,t,o))},a=function(e,t,n){var o=s(e,t,n);if(o)return e.detachEvent("on"+t,o)}),e.exports={add:i,remove:a,fabricate:function(e,t,n){var i=-1===r.indexOf(t)?new o(t,{detail:n}):function(){var e;return c.createEvent?(e=c.createEvent("Event")).initEvent(t,!0,!0):c.createEventObject&&(e=c.createEventObject()),e}();e.dispatchEvent?e.dispatchEvent(i):e.fireEvent("on"+t,i)}}},47:(e,t,n)=>{var o=n.g.CustomEvent;e.exports=function(){try{var e=new o("cat",{detail:{foo:"bar"}});return"cat"===e.type&&"bar"===e.detail.foo}catch(e){}return!1}()?o:"undefined"!=typeof document&&"function"==typeof document.createEvent?function(e,t){var n=document.createEvent("CustomEvent");return t?n.initCustomEvent(e,t.bubbles,t.cancelable,t.detail):n.initCustomEvent(e,!1,!1,void 0),n}:function(e,t){var n=document.createEventObject();return n.type=e,t?(n.bubbles=Boolean(t.bubbles),n.cancelable=Boolean(t.cancelable),n.detail=t.detail):(n.bubbles=!1,n.cancelable=!1,n.detail=void 0),n}},130:(e,t,n)=>{"use strict";var o=n(15),r=n(801);e.exports=function(e,t){var n=t||{},c={};return void 0===e&&(e={}),e.on=function(t,n){return c[t]?c[t].push(n):c[t]=[n],e},e.once=function(t,n){return n._once=!0,e.on(t,n),e},e.off=function(t,n){var o=arguments.length;if(1===o)delete c[t];else if(0===o)c={};else{var r=c[t];if(!r)return e;r.splice(r.indexOf(n),1)}return e},e.emit=function(){var t=o(arguments);return e.emitterSnapshot(t.shift()).apply(this,t)},e.emitterSnapshot=function(t){var i=(c[t]||[]).slice(0);return function(){var c=o(arguments),a=this||e;if("error"===t&&!1!==n.throws&&!i.length)throw 1===c.length?c[0]:c;return i.forEach(function(o){n.async?r(o,c,a):o.apply(a,c),o._once&&e.off(t,o)}),e}},e}},371:(e,t,n)=>{"use strict";var o=[],r="",c=/^on/;for(r in n.g)c.test(r)&&o.push(r.slice(2));e.exports=o},394:e=>{var t;t="function"==typeof setImmediate?function(e){setImmediate(e)}:function(e){setTimeout(e,0)},e.exports=t},427:(e,t,n)=>{"use strict";var o=n(130),r=n(46),c=n(541),i=document,a=i.documentElement;function d(e,t,o,c){n.g.navigator.pointerEnabled?r[t](e,{mouseup:"pointerup",mousedown:"pointerdown",mousemove:"pointermove"}[o],c):n.g.navigator.msPointerEnabled?r[t](e,{mouseup:"MSPointerUp",mousedown:"MSPointerDown",mousemove:"MSPointerMove"}[o],c):(r[t](e,{mouseup:"touchend",mousedown:"touchstart",mousemove:"touchmove"}[o],c),r[t](e,o,c))}function s(e){if(void 0!==e.touches)return e.touches.length;if(void 0!==e.which&&0!==e.which)return e.which;if(void 0!==e.buttons)return e.buttons;var t=e.button;return void 0!==t?1&t?1:2&t?3:4&t?2:0:void 0}function l(e,t){return void 0!==n.g[t]?n.g[t]:a.clientHeight?a[e]:i.body[e]}function u(e,t,n){var o,r=(e=e||{}).className||"";return e.className+=" gu-hide",o=i.elementFromPoint(t,n),e.className=r,o}function m(){return!1}function g(){return!0}function p(e){return e.width||e.right-e.left}function v(e){return e.height||e.bottom-e.top}function f(e){return e.parentNode===i?null:e.parentNode}function h(e){return"INPUT"===e.tagName||"TEXTAREA"===e.tagName||"SELECT"===e.tagName||E(e)}function E(e){return!!e&&"false"!==e.contentEditable&&("true"===e.contentEditable||E(f(e)))}function C(e){return e.nextElementSibling||function(){var t=e;do{t=t.nextSibling}while(t&&1!==t.nodeType);return t}()}function y(e,t){var n=function(e){return e.targetTouches&&e.targetTouches.length?e.targetTouches[0]:e.changedTouches&&e.changedTouches.length?e.changedTouches[0]:e}(t),o={pageX:"clientX",pageY:"clientY"};return e in o&&!(e in n)&&o[e]in n&&(e=o[e]),n[e]}e.exports=function(e,t){var n,E,L,b,j,P,I,x,T,S,D;1===arguments.length&&!1===Array.isArray(e)&&(t=e,e=[]);var k,w=null,N=t||{};void 0===N.moves&&(N.moves=g),void 0===N.accepts&&(N.accepts=g),void 0===N.invalid&&(N.invalid=function(){return!1}),void 0===N.containers&&(N.containers=e||[]),void 0===N.isContainer&&(N.isContainer=m),void 0===N.copy&&(N.copy=!1),void 0===N.copySortSource&&(N.copySortSource=!1),void 0===N.revertOnSpill&&(N.revertOnSpill=!1),void 0===N.removeOnSpill&&(N.removeOnSpill=!1),void 0===N.direction&&(N.direction="vertical"),void 0===N.ignoreInputTextSelection&&(N.ignoreInputTextSelection=!0),void 0===N.mirrorContainer&&(N.mirrorContainer=i.body);var O=o({containers:N.containers,start:function(e){var t=F(e);t&&U(t)},end:R,cancel:K,remove:J,destroy:function(){A(!0),z({})},canMove:function(e){return!!F(e)},dragging:!1});return!0===N.removeOnSpill&&O.on("over",function(e){c.rm(e,"gu-hide")}).on("out",function(e){O.dragging&&c.add(e,"gu-hide")}),A(),O;function B(e){return-1!==O.containers.indexOf(e)||N.isContainer(e)}function A(e){var t=e?"remove":"add";d(a,t,"mousedown",$),d(a,t,"mouseup",z)}function X(e){d(a,e?"remove":"add","mousemove",q)}function M(e){var t=e?"remove":"add";r[t](a,"selectstart",Y),r[t](a,"click",Y)}function Y(e){k&&e.preventDefault()}function $(e){if(P=e.clientX,I=e.clientY,1===s(e)&&!e.metaKey&&!e.ctrlKey){var t=e.target,n=F(t);n&&(k=n,X(),"mousedown"===e.type&&(h(t)?t.focus():e.preventDefault()))}}function q(e){if(k)if(0!==s(e)){if(!(void 0!==e.clientX&&Math.abs(e.clientX-P)<=(N.slideFactorX||0)&&void 0!==e.clientY&&Math.abs(e.clientY-I)<=(N.slideFactorY||0))){if(N.ignoreInputTextSelection){var t=y("clientX",e)||0,o=y("clientY",e)||0;if(h(i.elementFromPoint(t,o)))return}var r=k;X(!0),M(),R(),U(r);var u,m={left:(u=L.getBoundingClientRect()).left+l("scrollLeft","pageXOffset"),top:u.top+l("scrollTop","pageYOffset")};b=y("pageX",e)-m.left,j=y("pageY",e)-m.top,c.add(S||L,"gu-transit"),function(){if(!n){var e=L.getBoundingClientRect();(n=L.cloneNode(!0)).style.width=p(e)+"px",n.style.height=v(e)+"px",c.rm(n,"gu-transit"),c.add(n,"gu-mirror"),N.mirrorContainer.appendChild(n),d(a,"add","mousemove",W),c.add(N.mirrorContainer,"gu-unselectable"),O.emit("cloned",n,L,"mirror")}}(),W(e)}}else z({})}function F(e){if(!(O.dragging&&n||B(e))){for(var t=e;f(e)&&!1===B(f(e));){if(N.invalid(e,t))return;if(!(e=f(e)))return}var o=f(e);if(o&&!N.invalid(e,t)&&N.moves(e,o,t,C(e)))return{item:e,source:o}}}function U(e){var t,n;t=e.item,n=e.source,("boolean"==typeof N.copy?N.copy:N.copy(t,n))&&(S=e.item.cloneNode(!0),O.emit("cloned",S,e.item,"copy")),E=e.source,L=e.item,x=T=C(e.item),O.dragging=!0,O.emit("drag",L,E)}function R(){if(O.dragging){var e=S||L;H(e,f(e))}}function _(){k=!1,X(!0),M(!0)}function z(e){if(_(),O.dragging){var t=S||L,o=y("clientX",e)||0,r=y("clientY",e)||0,c=Q(u(n,o,r),o,r);c&&(S&&N.copySortSource||!S||c!==E)?H(t,c):N.removeOnSpill?J():K()}}function H(e,t){var n=f(e);S&&N.copySortSource&&t===E&&n.removeChild(L),G(t)?O.emit("cancel",e,E,E):O.emit("drop",e,t,E,T),V()}function J(){if(O.dragging){var e=S||L,t=f(e);t&&t.removeChild(e),O.emit(S?"cancel":"remove",e,t,E),V()}}function K(e){if(O.dragging){var t=arguments.length>0?e:N.revertOnSpill,n=S||L,o=f(n),r=G(o);!1===r&&t&&(S?o&&o.removeChild(S):E.insertBefore(n,x)),r||t?O.emit("cancel",n,E,E):O.emit("drop",n,o,E,T),V()}}function V(){var e=S||L;_(),n&&(c.rm(N.mirrorContainer,"gu-unselectable"),d(a,"remove","mousemove",W),f(n).removeChild(n),n=null),e&&c.rm(e,"gu-transit"),D&&clearTimeout(D),O.dragging=!1,w&&O.emit("out",e,w,E),O.emit("dragend",e),E=L=S=x=T=D=w=null}function G(e,t){var o;return o=void 0!==t?t:n?T:C(S||L),e===E&&o===x}function Q(e,t,n){for(var o=e;o&&!r();)o=f(o);return o;function r(){if(!1===B(o))return!1;var r=Z(o,e),c=ee(o,r,t,n);return!!G(o,c)||N.accepts(L,o,E,c)}}function W(e){if(n){e.preventDefault();var t=y("clientX",e)||0,o=y("clientY",e)||0,r=t-b,c=o-j;n.style.left=r+"px",n.style.top=c+"px";var i=S||L,a=u(n,t,o),d=Q(a,t,o),s=null!==d&&d!==w;(s||null===d)&&(w&&p("out"),w=d,s&&p("over"));var l=f(i);if(d!==E||!S||N.copySortSource){var m,g=Z(d,a);if(null!==g)m=ee(d,g,t,o);else{if(!0!==N.revertOnSpill||S)return void(S&&l&&l.removeChild(i));m=x,d=E}(null===m&&s||m!==i&&m!==C(i))&&(T=m,d.insertBefore(i,m),O.emit("shadow",i,d,E))}else l&&l.removeChild(i)}function p(e){O.emit(e,i,w,E)}}function Z(e,t){for(var n=t;n!==e&&f(n)!==e;)n=f(n);return n===a?null:n}function ee(e,t,n,o){var r,c="horizontal"===N.direction;return t!==e?(r=t.getBoundingClientRect(),i(c?n>r.left+p(r)/2:o>r.top+v(r)/2)):function(){var t,r,i,a=e.children.length;for(t=0;t<a;t++){if(i=(r=e.children[t]).getBoundingClientRect(),c&&i.left+i.width/2>n)return r;if(!c&&i.top+i.height/2>o)return r}return null}();function i(e){return e?C(t):t}}}},541:e=>{"use strict";var t={};function n(e){var n=t[e];return n?n.lastIndex=0:t[e]=n=new RegExp("(?:^|\\s)"+e+"(?:\\s|$)","g"),n}e.exports={add:function(e,t){var o=e.className;o.length?n(t).test(o)||(e.className+=" "+t):e.className=t},rm:function(e,t){e.className=e.className.replace(n(t)," ").trim()}}},801:(e,t,n)=>{"use strict";var o=n(394);e.exports=function(e,t,n){e&&o(function(){e.apply(n||null,t||[])})}}},t={};function n(o){var r=t[o];if(void 0!==r)return r.exports;var c=t[o]={exports:{}};return e[o](c,c.exports,n),c.exports}n.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return n.d(t,{a:t}),t},n.d=(e,t)=>{for(var o in t)n.o(t,o)&&!n.o(e,o)&&Object.defineProperty(e,o,{enumerable:!0,get:t[o]})},n.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),(()=>{"use strict";const e=e=>{const t=crypto.randomUUID();let n=e,o=[];return{getId:()=>t,getName:()=>n,setName:e=>{n=e},getList:()=>o,addTodo:e=>o.push(e),deleteTodo:e=>{const t=o.findIndex(t=>t.getId()===e);o.splice(t,1)},getTodo:e=>o.find(t=>t.getId()===e)}},t=(e,t,n,o,r=[],c=[])=>{const i=crypto.randomUUID();let a=e,d=t,s=n,l=o,u="todo",m=[...r],g=[...c];return{getId:()=>i,getTitle:()=>a,setTitle:e=>{a=e},getDescription:()=>d,setDescription:e=>{d=e},getDueDate:()=>s,setDueDate:e=>{s=e},getPriority:()=>l,setPriority:e=>{l=e},getStatus:()=>u,setStatus:e=>{u=e},getNotes:()=>[...m],addNote:e=>{m.push(e)},removeNote:e=>{e>=0&&e<m.length&&m.splice(e,1)},getChecklist:()=>g.map(e=>({...e})),addCheckListItem:e=>{g.push({text:e,status:!1})},toggleCheckListItem:e=>{e>=0&&e<g.length&&(g[e].status=!g[e].status)}}},o=(()=>{let n=[],o=null;const r=e=>n.find(t=>t.getId()===e)||null;return{addProject:t=>{const r=e(t);n.push(r),o||(o=r)},deleteProject:e=>{const t=n.findIndex(t=>t.getId()===e);n.splice(t,1),o&&o.getId()===e&&(o=n.length>0?n[0]:null)},getProject:r,setCurrentProject:e=>{const t=r(e);t&&(o=t)},getCurrentProject:()=>o,getProjectList:()=>[...n],changeProjectName:(e,t)=>{const n=r(e);n&&n.setName(t)},loadProjectsFromData:(r,c)=>{n=r.projects.map(n=>{const o=e(n.name);return o.getList().splice(0,o.getList().length),n.todos.forEach(e=>{const n=t(e.title,e.description,e.dueDate,e.priority,e.notes,e.checklist);n.getId=()=>e.id,n.setStatus(e.status),o.addTodo(n)}),o.getId=()=>n.id,o}),o=n.find(e=>e.getId()===c)||n[0]||null}}})(),r=(()=>{const e="todoAppData";return{save:(t,n)=>{const o={projects:t.map(e=>({id:e.getId(),name:e.getName(),todos:e.getList().map(e=>({id:e.getId(),title:e.getTitle(),description:e.getDescription(),dueDate:e.getDueDate(),priority:e.getPriority(),status:e.getStatus(),notes:e.getNotes(),checklist:e.getChecklist()}))})),currentProjectId:n};localStorage.setItem(e,JSON.stringify(o))},load:()=>{const t=localStorage.getItem(e);return t?JSON.parse(t):null},clear:()=>{localStorage.removeItem(e)}}})(),c=(()=>{const e=()=>o.getCurrentProject();return{addTodo:(n,o,c,i,a=[],d=[])=>{const l=e();if(!l)return;const u=t(n,o,c,i,a,d);l.addTodo(u),r.save(s.getProjectList(),s.getCurrent()?.getId())},getTodos:()=>{const t=e();return t?t.getList():[]},getTodo:t=>{const n=e();return n?n.getTodo(t):null},deleteTodo:t=>{const n=e();n&&(n.deleteTodo(t),r.save(s.getProjectList(),s.getCurrent()?.getId()))},clearTodos:()=>{const t=e();t&&(t.getList().splice(0),r.save(s.getProjectList(),s.getCurrent()?.getId()))}}})();var i=n(427),a=n.n(i);const d=(()=>{const e=document.querySelector("#project-list"),t=document.getElementById("btn-add-project"),n=document.getElementById("project-modal"),o=document.getElementById("project-form"),i=document.getElementById("todo-modal"),d=document.getElementById("todo-form"),l=document.getElementById("btn-add-todo"),u=document.getElementById("todo-notes-container"),m=document.getElementById("todo-checklist-container"),g=Array.from(document.querySelectorAll(".todo-list")),p=e=>e.classList.remove("hidden"),v=e=>{e.classList.add("hidden");const t=e.querySelector("form");t&&t.reset(),e===i&&(f(u),f(m))},f=e=>{e.textContent=""},h=e=>{["todo","doing","done"].forEach(e=>{const t=document.querySelector(`[data-status="${e}"] .todo-list`);t&&f(t)}),e.forEach(e=>{const t=document.createElement("div"),n=document.createElement("div"),o=document.createElement("div");n.textContent=e.getTitle(),o.textContent=e.getDueDate(),t.dataset.id=e.getId(),t.classList.add("todo-card"),t.classList.add(`priority-${e.getPriority().toLowerCase()}`),t.append(n,o),t.addEventListener("click",()=>{y(e)});const r=document.querySelector(`[data-status="${e.getStatus()}"] .todo-list`);r&&r.appendChild(t)})};a()(g).on("drop",(e,t,n,o)=>{const i=e.dataset.id,a=t.closest("[data-status]").dataset.status;c.getTodo(i).setStatus(a),r.save(s.getProjectList(),s.getCurrent()?.getId())});const E=t=>{f(e),t.forEach(t=>{const n=document.createElement("li");n.classList.add("project-item"),n.dataset.id=t.getId();const o=document.createElement("span");o.textContent=t.getName(),o.classList.add("project-name");const r=document.createElement("button");r.textContent="✖",r.dataset.id=t.getId(),r.classList.add("delete-project-btn"),n.append(o,r),e.appendChild(n)})},C=e=>{document.querySelectorAll(".project-item").forEach(t=>{t.classList.toggle("current-project",t.dataset.id===e)})};e.addEventListener("click",e=>{const t=e.target,n=t.closest(".project-item");if(!n)return;const o=n.dataset.id;t.classList.contains("delete-project-btn")?(s.deleteProject(o),E(s.getProjectList()),C(s.getCurrent()?.getId()),r.save(s.getProjectList(),s.getCurrent()?.getId())):(s.setCurrentProject(o),C(o),r.save(s.getProjectList(),s.getCurrent()?.getId()))});const y=e=>{let t=!0;const n=document.getElementById("todo-card-modal");n&&n.remove();const o=document.createElement("div");o.id="todo-card-modal",o.classList.add("todo-card-modal");const c=document.createElement("div");c.classList.add("todo-card-content");const i=document.createElement("h2"),a=document.createElement("p"),d=document.createElement("p"),l=document.createElement("p"),u=document.createElement("div");u.classList.add("notes-container");const m=document.createElement("ul"),g=document.createElement("input"),p=document.createElement("textarea"),v=document.createElement("input"),E=document.createElement("select");let C=0;["low","medium","high"].forEach(t=>{const n=document.createElement("option");n.value=t,n.textContent=t.charAt(0).toUpperCase()+t.slice(1),t===e.getPriority()&&(n.selected=!0),E.appendChild(n)}),v.type="date";const y=()=>{f(u);const t=e.getNotes();if(t.length>0){const e=document.createElement("p");if(e.textContent=`Note: ${t[C]}`,u.appendChild(e),t.length>1){const e=document.createElement("div");e.classList.add("note-navigation-buttons");const n=document.createElement("button");n.textContent="◀",n.addEventListener("click",()=>{C=(C-1+t.length)%t.length,y()});const o=document.createElement("button");o.textContent="▶",o.addEventListener("click",()=>{C=(C+1)%t.length,y()}),e.append(n,o),u.appendChild(e)}}else{const e=document.createElement("p");e.textContent="No notes for this todo.",u.appendChild(e)}},L=()=>{i.textContent=`Title: ${e.getTitle()}`,a.textContent=`Description: ${e.getDescription()}`,d.textContent=`Due: ${e.getDueDate()}`,l.textContent=`Priority: ${e.getPriority()}`,y(),m.innerHTML="",e.getChecklist().forEach((t,n)=>{const o=document.createElement("li"),c=document.createElement("input");c.type="checkbox",c.checked=t.status,c.addEventListener("change",()=>{e.toggleCheckListItem(n),L(),r.save(s.getProjectList(),s.getCurrent()?.getId())});const i=document.createElement("span");i.textContent=t.text,o.append(c,i),m.appendChild(o)}),c.replaceChildren(i,a,d,l,u,m,j)},b=(e,t)=>{const n=document.createElement("label");n.textContent=e;const o=document.createElement("div");return o.append(n,t),o},j=document.createElement("div");j.id="todo-card-buttons";const P=document.createElement("button");P.textContent="Edit",P.id="todo-card-btn-edit";const I=document.createElement("button");I.textContent="Save",I.id="todo-card-btn-save",I.classList.add("hidden");const x=document.createElement("button");x.textContent="Close",x.id="todo-card-btn-close",P.addEventListener("click",()=>{t=!1,P.classList.add("hidden"),I.classList.remove("hidden"),g.value=e.getTitle(),p.value=e.getDescription(),v.value=e.getDueDate(),c.replaceChildren(b("Title",g),b("Description",p),b("Due Date",v),b("Priority",E),j)}),I.addEventListener("click",()=>{e.setTitle(g.value.trim()),e.setDescription(p.value.trim()),e.setDueDate(v.value),e.setPriority(E.value),t=!0,P.classList.remove("hidden"),I.classList.add("hidden"),L(),h(s.getTodos()),r.save(s.getProjectList(),s.getCurrent()?.getId())}),x.addEventListener("click",()=>{o.remove()}),j.append(P,I,x),L(),o.appendChild(c),document.body.appendChild(o)};return t.addEventListener("click",()=>p(n)),l.addEventListener("click",()=>p(i)),o.addEventListener("submit",e=>{e.preventDefault();const t=o["project-name"].value.trim();t&&(s.addProject(t),E(s.getProjectList()),C(s.getCurrent().getId()),r.save(s.getProjectList(),s.getCurrent().getId()),v(n))}),d.addEventListener("submit",e=>{e.preventDefault();const t=d["todo-title"].value.trim(),n=d["todo-description"].value.trim(),o=d["todo-due"].value,a=d["todo-priority"].value,l=Array.from(document.querySelectorAll(".todo-note-input")).map(e=>e.value.trim()).filter(e=>""!==e),u=Array.from(document.querySelectorAll(".checklist-item")).map(e=>{const t=e.querySelector(".checklist-text")?.value.trim();return t?{text:t,status:!1}:null}).filter(e=>null!==e);t&&(c.addTodo(t,n,o,a,l,u),h(s.getTodos()),r.save(s.getProjectList(),s.getCurrent()?.getId()),v(i))}),document.getElementById("add-note-btn").addEventListener("click",()=>{const e=document.createElement("div");e.classList.add("note-item");const t=document.createElement("input");t.type="text",t.classList.add("todo-note-input"),t.placeholder="Note...";const n=document.createElement("button");n.type="button",n.textContent="✖",n.classList.add("remove-note-btn"),n.addEventListener("click",()=>e.remove()),e.append(t,n),u.appendChild(e)}),document.getElementById("add-check-item-btn").addEventListener("click",()=>{const e=document.createElement("div");e.classList.add("checklist-item");const t=document.createElement("input");t.type="text",t.classList.add("checklist-text"),t.placeholder="Checklist item...";const n=document.createElement("button");n.type="button",n.textContent="✖",n.classList.add("remove-checklist-btn"),n.addEventListener("click",()=>e.remove()),e.append(t,n),m.appendChild(e)}),document.addEventListener("click",e=>{if(e.target.classList.contains("modal-close")){const t=e.target.closest('[class$="-modal"]');t&&v(t)}(e.target.classList.contains("project-modal")||e.target.classList.contains("todo-modal"))&&v(e.target)}),{clearContainer:f,renderProjects:E,renderTodos:h,highlightCurrentProject:C,openModal:p,closeModal:v}})(),s=(()=>{const e=()=>o.getCurrentProject(),t=()=>o.getProjectList(),n=()=>c.getTodos();return{initialize:()=>{const e=r.load();if(e)o.loadProjectsFromData(e,e.currentProjectId);else{o.addProject("Default");const e=o.getProjectList()[0].getId();o.setCurrentProject(e)}d.renderProjects(o.getProjectList()),d.highlightCurrentProject(o.getCurrentProject().getId()),d.renderTodos(c.getTodos())},addProject:c=>{o.addProject(c);const i=t(),a=i[i.length-1];o.setCurrentProject(a.getId()),d.renderProjects(t()),d.highlightCurrentProject(e().getId()),d.renderTodos(n()),r.save(t(),e().getId())},deleteProject:n=>{o.deleteProject(n),r.save(t(),e().getId())},setCurrentProject:c=>{o.setCurrentProject(c),d.highlightCurrentProject(c),d.renderTodos(n()),r.save(t(),e().getId())},getCurrent:e,getProjectList:t,getTodos:n}})();s.initialize()})()})();
//# sourceMappingURL=main.js.map